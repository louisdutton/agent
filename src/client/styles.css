@import "tailwindcss";
@import "highlight.js/styles/github-dark.css";
@plugin "@tailwindcss/typography";
@source ".";

@theme {
	--color-background: black;
	--color-foreground: #e5e5e5;
	--color-muted: #111;
	--color-muted-foreground: #888;
	--color-border: #222;
	--color-primary: white;
	--color-primary-foreground: black;
}

@layer base {
	* {
		box-sizing: border-box;
	}

	html,
	body {
		@apply m-0 p-0 bg-background text-foreground h-dvh overflow-hidden;
		font-family: system-ui, -apple-system, sans-serif;
		font-size: 16px;
	}

	code,
	pre {
		font-family: ui-monospace, monospace;
	}

	/* Code blocks */
	pre.shiki {
		@apply p-4 rounded-lg overflow-x-auto text-sm;
	}

	/* Diff view highlighting - transparent background to show diff colors */
	.hljs {
		background: transparent !important;
	}
}

/* Inline code - override prose typography styles (outside @layer for higher specificity) */
.prose :where(code):not(:where([class~="not-prose"], [class~="not-prose"] *)) {
	color: inherit;
	font-size: 0.9em;
	border: 1px solid var(--color-border);
	border-radius: 0.25rem;
	padding: 0.1em 0.3em;
}

.prose
	:where(code):not(
		:where([class~="not-prose"], [class~="not-prose"] *)
	)::before,
.prose
	:where(code):not(
		:where([class~="not-prose"], [class~="not-prose"] *)
	)::after {
	content: none;
}

@layer components {
	.btn {
		@apply px-3 py-2 rounded-lg font-medium;
		@apply bg-primary text-primary-foreground;
		@apply active:opacity-80 disabled:opacity-40;
	}

	.input {
		@apply w-full px-3 py-2 rounded-lg;
		@apply border border-border;
		@apply text-foreground placeholder:text-muted-foreground;
		@apply focus:outline-none focus:border-primary;
	}

	.mask-fade {
		mask-image: linear-gradient(
			to bottom,
			transparent,
			black 4rem,
			black calc(100% - 4rem),
			transparent
		);
	}
}
